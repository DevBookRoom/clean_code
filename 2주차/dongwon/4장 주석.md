# 주석

주석은 코드로 의도를 표현하지 못해 실패를 만회하기 위할때 주석을 사용한다

코드는 계속해서 변화하지만 주석은 변하지 않는다

1. 주석을 추가하는 이유는 코드의 품질이 나빠서

   코드만으로 의도를 표현할 수도 있다

    ```java
    // 직원에게 복지 혜택을 받을 자격이 있는지 검사
    if ((employee.flags & HOURLY_FLAG) && (employee.age > 65))
    ->
    if (employee.isEligibleForFullBenefits())
    ```

2. 의도를 설명하는 주석

   결정에 깔린 의도를 설명하는 주석

    ```java
    return 1; // 옳은 유형이니 정렬 순위가 높다
    
    // 스레드를 대량 생성하는 방법으로 어떻게든 경쟁 조건을 만들려 시도한다
    ```

3. 인수나 반환값이 표준 라이브러리나 변경하지 못하는 코드에 속할때 의미를 명료하게 밝히는 주석

   주석이 올바른지 검증하기가 어렵다(그래서 정확하고 조심하며 달아야 한다)

4. 경고의 주석

   실행전 결과를 경고의 목적으로

    ```java
    // 시간이 많지 않다면 실행하지 말 것
    -> @Ignore 을 이용해 테스트 케이스를 꺼버림("실행이 오래 걸린다")
    
    // SimpleDateFormat 은 스레드에 안전하지 못하다
    // 따라서 각 인스턴스를 독립적으로 생성해야 한다
    ```

5. 해야할 일 주석

   TODO 를 주석으로 남기기, 구현하지 않은 이유와 미래 모습을 설명

    ```java
    // TODO-MdM 현재 필요하지 않다
    // 체크아웃 모델을 도입하면 함수가 필요 없다
    ```

6. 중요성 강조를 위한 주석

    ```java
    // 여기서 trim은 정말 중요하다. trim 함수는 문자열에서 시작 공백을 제거한다
    // 문자열에 시작 공백이 있으면 다른 문자열로 인식되기 때문이다
    ```


1. 공개 API 에서의 설명

   ex) Javadocs 의 설명


### 잘못된 주석

1. 자신만 이해하는 주석

    ```java
    catch (IOException e)
    {
    	// 속성 파일이 없다면 기본값을 모두 메모리로 읽어 들였다는 의미
    }
    ```

   답을 알아내려면 다른 코드도 뒤져야 하는 상황, 독자와 소통을 못하는 상황

2. 같은 이야기 반복 주석

    ```java
    // this.closed 가 true일 때 반환되는 유틸리티 메서드
    // 타임아웃에 도달하면 예외를 던짐
    ```

   주석은 코드보다 더 많은 정보를 제공하지 못한다.

   코드 정당화, 의도나 근거 설명도 아니면 주석을 달 이유가 없다. 코드보다 부정확해 독자가 함수를 대충 이해하고 넘어가게 만든다

3. 오해의 여지가 있는 주석

    ```java
    위의 2번에서, this.closed 가 true로 변하는 순간 메서드는 반환되지 않는다 or
    true여야 반환된다
    // 헷갈리는 주석이다
    ```

4. 당연한 사실을 달은 주석

   새로운 정보를 주지 못하는 주석은 쓸대 없다

   모든 함수에 주석을 단다는 규칙 같은 것도 오히려 헷갈릴 수 있다

    ```java
    // 기본 생성자
    // 월 중 일자
    // 월 중 일자 반환...
    
    catch(SocketException e)
    {
    	// 정상, 누군가 요청을 했다
    }
    catch(Exception e1)
    {
    	// 이게 뭐임
    }
    ```

   주석에는 정확한 정보와 상황을 느러내는 정보가 있어야 할 것!

   > 주석으로 모든 것을 드러내기 보다는 코드 구조 개선을 위해 노력하고
   주석만들어 뒀다고 넘어가는 것이아닌 리팩토링과 구현을 더 신경 써야 할 것
>

5. 배너로서 사용

   특정 위치를 표시하기 위해, 배너 아래 특정 기능을 모아 놓으면 유용하다

    ```java
    // Actions ///////
    너무 자주 사용하면 않좋지만, 보통 환기가 됨
    ```

6. 공로, 저자 표시 주석

    ```java
    // 릭이 추가함
    ```

   누구에게 물어봐야 할 지 대상이 확실해 지지만, 보통은 이런 주석은 코드에 방치되며 부정확하고 쓸모가 없어진다

   이러한 정보는 소스 코드 관리 시스템에 저장하는 것이 좋다

7. 주석으로 처리한 코드

    ```java
    // InputStream resultsStream = formatter.getResultStream();
    ```

   다른 사람들이 지우기를 주저하게 되며, 어떠한 이유가 있지 않을까란 생각이 들 게 한다

8. 전역 정보

   근처에 있는 코드만 기술해야 하는데, 시스템 전반적인 정보를 기술해서는 안될 것

    ```java
    /* 
    	적합성 테스트가 동작하는 포트: 기본값은 <b>8082</b>
    */
    ```

   함수에서 통제하지 못하는 정보이며, 주석값은 전혀 변경되지 않을 수 있다

9. 너무 많은 정보

   관련없는 정보나 장황한 설명은 하지 말 것

    ```java
    /*
    	1부: 인터넷 메시지 본체 형식
    	설명~~~~
    */
    ```

10. 모호한 관계

    주석 자체가 다시 설명을 요구하는 경우는 없어야 한다

    ```java
    /*
    	모든 픽셀을 담을 만큼 충분한 배열로 시작
    	헤더 정보를 위해 200바이트를 더함
    */
    ```

    둘 사이의 관계가 명확하지 않다


> 주석의 역할을 어디까지로 할 지 (주석으로 인해서 함수를 이해하기 쉽도록 하는 부분까지 적을것인지)

코드로 리팩토링하는데 한계가 왔을때 코드를 설명하기 위해서
>