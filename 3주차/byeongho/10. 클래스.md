# 클래스

> 철저히 자바로 구성된 도서이기에 자바를 기준으로 클래스 체계가 작성되어 있습니다. 하지만 해당 원칙에 대한 개념은 가져가면 좋을 것 같습니다.

## 클래스 체계

표준 자바 관례를 따랐을 때의 클래스에서의 변수, 함수 순서는 다음과 같다.

1. 변수 목록
- 정적 공개 상수
- 정적 배공개 상수
- 배공개 인스턴스 변수

    해당 경우에서 공개 변수가 필요한 경우는 없다.

2. 공개 함수
- 공개 함수
- 비공개 함수: 자신을 호출하는 공개 함수 직후에 넣는다.


### 캡슐화

변수와 유틸리티 함수는 최대한 숨긴다.

테스트와 같은 사례에서 함수 호출 및 변수 사용의 경우에는 `protected`를 통해 처리한다.

## 클래스 크기

> 클래스 크기는 **작고 작고 작아야한다.**

함수에서는 물리적인 행 수를 크기로 측정했다면 클래스는 **책임** 단위를 기준으로 크기를 측정한다.

책에서의 목록 10-1 코드(p.173)과 같이 대략 70개의 공개메서드가 존재하는 것처럼 너무 많은 책임을 부여해서는 안된다.

목록 10-2 코드 또한 불필요하게 크다. 왜냐하면 해당 클래스가 담당하는 책임이 너무 많다.
해당 클래스가 담당하는 채깅ㅁ은 다음과 같다.

- 소프트웨어 버전 정보 추적
- 자바스윙 컴포넌트 관리

이 두가지를 SRP의 개념에서 나누어야만 한다.

### 단일 책임 원칙(SRP)

> 클래스나 모듈을 변경할 이유는 단 하나뿐이어야 한다.

이를 위해 변경할 이유를 계속 파악하고 애쓰고 추상화를 하다 보면 책임 단위를 파악할 수 있다.

즉, 작은 클래스는 각자 맡은 책임이 하나, 변경할 이유가 하나, 이러한 클래스들은 각기 다른 자긍ㄴ 클래스와 협력해야 한다.

## 클래스 이름

> 클래스 이름에는 책임을 잘 기술해야 한다.

Processor, Manager, Super 등의 모호한 단어는 클래스에 여러 책임이 담겨졌다는 증거이다.

또한, `if, and, or, but`들이 없이 25단어 내외의 클래스를 설명할 수 있어야 한다.


## 응집도
일반적으로 메서드가 변수를 더 많이 사용할 수록 메서드와 클래스는 응집도가 더 높다.<br>
이러한 응집도가 높은 클래스는 바람직하지 않다.

특히 앞에서의 `함수를 작게, 매개변수 목록을 짧게` 전략을 따르다 보면 메서드만이 사용하는 인스턴스 변수가 많아 질 것이다. 이는 클래스를 쪼개야 하는 적신호이니 이렇게 응집도가 높아질수록 변수와 메서드를 적절히 분리해야한다.<br>
이를 통해 다음의 장점을 취할 수 있다.

- 프로그램의 체계 잡기
- 프로그램 구조 투명성

실제 예시 코드는 목록 10-5 에서 목록 10-6, 10-7, 10-8 의 코드들로 쪼개진 사례를 책에서 확인해보면 된다.

## 변경하기 쉬운 클래스

대다수의 시스템은 지속적인 변경이 가해진다. 이러한 변경에 대비하기 위한 방안이 필요하다.

이러한 요구사항의 변경에 대비하여 **인터페이스**와 **추상 클래스**를 사용해 구현이 미치는 영향을 격리해야한다.

목록 10-9, 10-10의 코드를 보면 Sql 클래스에서 파생하는 클래스를 생성였다.<br>
또한, 각 파생 클래스가 공통으로 사용할 Where, Column 들은 유틸리티 클래스에 넣었다.

이렇게 구성되어 있을때 우리는 다음 두가지의 장점을 취할 수 있다.
- SRP 지원
- OCP 지원
  - CRUD 중 U를 추가한다고 할 때 다른 코드가 망가질 염려가 없다.
- DIP를 준수하는 클래스 생성

#### Open Closed Principle (OCP)
> 확장에 개방적이고 수정에 폐쇄적이어야 한다는 원칙

#### Dependency Inversion Principle (DIP)

> 클래스가 상세한 구현이 아닌 추상화에 의존해야 한다는 원